$(document).ready -> 
  new Highcharts.Chart(
    chart:
      borderRadius: 0
      width: $(".bottom-row").width()
      # height: ($(window).height() * (2 / 5))
      height: $(".bottom-row").height()
      renderTo: "power_and_weather"
      backgroundColor: "#C3C9C9"
      plotBackgroundColor: null
      type: "spline"
      style:
        color: "#990000"
        fontSize: "2em"
        title:
          style:
            color: "#cc0000"
            fontWeight: "bold"

    legend:
      enabled: false

    xAxis:
      type: "datetime"
      tickColor: "#dac092"
      labels:
        style:
          color: "#cc0000"

    title:
      text: "Energy Production Per Day"
      style:
        color: "#cc0000"
        fontWeight: "bold"
        fontSize: "25px"

    yAxis: [
      title:
        text: "Watts"
        lineColor: "#dac092"
        style:
          color: "#FF0DFF"
     ,
      title:
        text: "Temperature"
        lineColor: "#FF0000"
        style:
          color: "#FF0000"
     ,
      title:
        text: "Cloud Cover"
        lineColor: "#FF0DFF"
        style:
          color: "#FF0DFF"

      labels:
        style:
          color: "#FF0DFF"
    ]

    plotOptions:
      series:
        shadow: true
        offsetX: "3px"
        offsetY: "3px"
        opacity: "0.4"
        marker:
          enabled: false

    series: [ 
      yAxis: 0
      name: "Watts Produced"
      pointInterval: 180000
      pointStart: <%= (Time.now.beginning_of_day - 7.days).to_i * 1000 %>
      data: <%= LastSevenDaysArray.last.power_array %>
     ,
      yAxis: 1
      name: "Temperature"
      pointInterval: 180000
      pointStart: <%= (Time.now.beginning_of_day - 7.days).to_i * 1000 %>
      data: <%= WeatherRecord.last.temperature %>
     ,
      yAxis: 2
      name: "Cloud Cover"
      pointInterval: 180000
      pointStart: <%= (Time.now.beginning_of_day - 7.days).to_i * 1000 %>
      data: <%= WeatherRecord.last.cloud_cover %>
    ]
  )